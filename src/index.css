@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html {
    font-family: 'Inter', system-ui, sans-serif;
  }
  
  /* Custom slider styles */
  input[type="range"] {
    -webkit-appearance: none;
    appearance: none;
    height: 8px;
    border-radius: 8px;
    outline: none;
  }
  
  input[type="range"]::-webkit-slider-thumb {
    --slider-handle-size: 18px;
    --slider-track-color: #e5e7eb;
    --slider-track-active-color: #8A784E;
  
    /* Light theme variables */
    --light-base: #E7EFC7;
    --light-accent: #AEC8A4;
    --light-dark: #8A784E;
    --light-darker: #3B3B1A;
  }
  
  .dark input[type="range"]::-webkit-slider-thumb {
    --slider-track-color: #374151;
    --slider-track-active-color: #7F8CAA;
  
    /* Dark theme variables */
    --dark-base: #333446;
    --dark-accent: #7F8CAA;
    --dark-light: #B8CFCE;
    --dark-lighter: #EAEFEF;
  }
  
  input[type="range"]::-webkit-slider-thumb {
    width: var(--slider-handle-size);
    height: var(--slider-handle-size);
    border-radius: 50%;
    background: var(--light-accent);
    cursor: pointer;
    border: 2px solid white;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);
  }
  
  .dark input[type="range"]::-webkit-slider-thumb {
    background: var(--dark-accent);
    border-color: var(--dark-base);
  }
  
  input[type="range"]::-moz-range-thumb {
    width: var(--slider-handle-size);
    height: var(--slider-handle-size);
    border-radius: 50%;
    background: var(--light-accent);
    cursor: pointer;
    border: 2px solid white;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);
  }
  
  .dark input[type="range"]::-moz-range-thumb {
    background: var(--dark-accent);
    border-color: var(--dark-base);
  }
  
  /* Tooltip arrow styles */
  [data-tooltip]::after {
    content: '';
    position: absolute;
    width: 8px;
    height: 8px;
    background: inherit;
    transform: rotate(45deg);
  }
  
  [data-tooltip-position="top"]::after {
    bottom: -4px;
    left: 50%;
    margin-left: -4px;
  }
  
  [data-tooltip-position="bottom"]::after {
    top: -4px;
    left: 50%;
    margin-left: -4px;
  }
  
  [data-tooltip-position="left"]::after {
    right: -4px;
    top: 50%;
    margin-top: -4px;
  }
  
  [data-tooltip-position="right"]::after {
    left: -4px;
    top: 50%;
    margin-top: -4px;
  }
}

@layer components {
  .btn-primary {
    @apply inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-colors;
  }
  
  .btn-secondary {
    @apply inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md shadow-sm text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-colors;
  }
  
  .input-primary {
    @apply block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm;
  }
  
  .card {
    @apply bg-white shadow-md rounded-2xl p-6 hover:shadow-lg transition-all duration-200;
  }
  
  /* Skeleton animation */
  .animate-pulse {
    animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
  }
  
  @keyframes pulse {
    0%, 100% {
      opacity: 1;
    }
    50% {
      opacity: 0.5;
    }
  }
  
  /* Tooltip animation */
  .tooltip-enter {
    opacity: 0;
    transform: scale(0.9);
  }
  
  .tooltip-enter-active {
    opacity: 1;
    transform: scale(1);
    transition: opacity 200ms, transform 200ms;
  }
  
  .tooltip-exit {
    opacity: 1;
  }
  
  .tooltip-exit-active {
    opacity: 0;
    transition: opacity 100ms;
  }
  
  /* Sidebar hover effects */
  .sidebar-item {
    transition: background-color 0.2s, color 0.2s;
  }
  
  .sidebar-item:hover {
    transition: background-color 0.1s, color 0.1s;
  }
  
  .sidebar-item.active {
    box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.1);
  }
  
  .sidebar-item::before {
    content: '';
    @apply absolute left-0 top-0 h-full w-0 bg-white opacity-10 transition-all duration-200;
  }
  
  .sidebar-item:hover::before {
    @apply w-1;
  }
  
  .sidebar-item.active::before {
    @apply w-1 bg-white opacity-100;
  }
  
  /* Nested navigation animations */
  .nav-group {
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.3s ease-in-out;
  }
  
  .nav-group-expanded {
    max-height: 500px; /* Arbitrary large value */
    opacity: 1;
    transition: max-height 0.3s ease-in-out, opacity 0.2s ease-in-out;
  }
  
  .nav-group-collapsed {
    max-height: 0;
    opacity: 0;
    transition: max-height 0.3s ease-in-out, opacity 0.1s ease-in-out;
  }
  
  /* Custom button styling for MeshMemory theme */
  .MeshMemory-button {
    transition: all 0.2s ease;
    border-radius: 0.375rem;
    font-weight: 500;
  }
  
  .MeshMemory-button:hover {
    transform: translateY(-1px);
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  }
  
  .MeshMemory-button:active {
    transform: translateY(0);
    box-shadow: none;
  }
  
  .dark .MeshMemory-button {
    background-color: var(--dark-accent);
    color: var(--dark-lighter);
  }
  
  .dark .MeshMemory-button:hover {
    background-color: var(--dark-light);
  }
  
  .light .MeshMemory-button {
    background-color: var(--light-dark);
    color: var(--light-base);
  }
  
  .light .MeshMemory-button:hover {
    background-color: var(--light-darker);
  }
}